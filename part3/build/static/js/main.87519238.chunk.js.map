{"version":3,"sources":["components/FilterPerson.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["FilterPerson","newSearch","handleSearchChange","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","deletePerson","name","number","onClick","id","Persons","persons","filter","toUpperCase","includes","map","successStyle","color","background","fontSize","borderStyle","borderRadius","padding","margin","errorStyle","Notification","message","style","baseUrl","exportedObj","getAll","axios","get","then","response","data","create","newObject","post","erase","delete","update","put","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","setMessage","useEffect","pbServices","event","target","preventDefault","personObject","Math","floor","random","length","window","confirm","updatedPerson","find","n","p","personObj","catch","error","console","log","setTimeout","returnedPerson","concat","filteredPerson","personName","personId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.87519238.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst FilterPerson = ({ newSearch, handleSearchChange }) => {\r\n  return (\r\n    <form>\r\n      filter shown with\r\n      <input value={newSearch} onChange={handleSearchChange} />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default FilterPerson;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.addPerson}>\r\n      <div>\r\n        name: <input value={props.newName} onChange={props.handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number:{\" \"}\r\n        <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <li>\r\n      {person.name} {person.number}{\" \"}\r\n      <button onClick={() => deletePerson(person.id)}>delete</button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = (props) => {\r\n  return (\r\n    <ul>\r\n      {props.persons\r\n        .filter((person) =>\r\n          person.name.toUpperCase().includes(props.newSearch.toUpperCase())\r\n        )\r\n        .map((person) => (\r\n          <Person\r\n            key={person.id}\r\n            person={person}\r\n            deletePerson={props.deletePerson}\r\n          />\r\n        ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst successStyle = {\r\n  color: \"green\",\r\n  background: \"lightgrey\",\r\n  fontSize: 20,\r\n  borderStyle: \"solid\",\r\n  borderRadius: 5,\r\n  padding: 10,\r\n  margin: 10,\r\n};\r\n\r\nconst errorStyle = {\r\n  color: \"red\",\r\n  background: \"lightgrey\",\r\n  fontSize: 20,\r\n  borderStyle: \"solid\",\r\n  borderRadius: 5,\r\n  padding: 10,\r\n  margin: 10,\r\n};\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message == null) return null;\r\n  if (message.includes(\"ERROR\")) {\r\n    return <div style={errorStyle}>{message}</div>;\r\n  }\r\n  return <div style={successStyle}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst erase = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst exportedObj = { getAll, create, erase, update };\r\n\r\nexport default exportedObj;\r\n","import React, { useEffect, useState } from \"react\";\nimport FilterPerson from \"./components/FilterPerson\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport pbServices from \"./services/phonebook\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    pbServices.getAll().then((response) => {\n      setPersons(response);\n    });\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: Math.floor(Math.random() * 101),\n    };\n\n    if (\n      persons.filter((person) => person.name === personObject.name).length > 0\n    ) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with the new one?`\n        )\n      ) {\n        const updatedPerson = persons.find((n) => n.name === newName);\n        pbServices\n          .update(updatedPerson.id, { ...updatedPerson, number: newNumber })\n          .then((p) => {\n            setPersons(\n              persons.map((personObj) =>\n                personObj.name === newName ? p : personObj\n              )\n            );\n          })\n          .catch((error) => {\n            setMessage(`ERROR: ${error.response.data.error}`);\n            console.log(error.response.data);\n          });\n        setPersons(persons);\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setMessage(`${updatedPerson.name} was successfully updated`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 6000);\n      }\n    } else {\n      pbServices\n        .create(personObject)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setMessage(`${newName} was successfully added`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 6000);\n        })\n        .catch((error) => {\n          setMessage(`ERROR: ${error.response.data.error}`);\n          console.log(error.response.data);\n        });\n      setTimeout(() => {\n        setMessage(null);\n      }, 6000);\n    }\n  };\n\n  const deletePerson = (id) => {\n    const filteredPerson = persons.filter((person) => person.id === id);\n    const personName = filteredPerson[0].name;\n    const personId = filteredPerson[0].id;\n    if (window.confirm(`Delete ${personName} ?`)) {\n      pbServices.erase(personId);\n      setMessage(`${personName} was successfully deleted`);\n      setPersons(persons.filter((person) => person.id !== id));\n      setTimeout(() => {\n        setMessage(null);\n      }, 6000);\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <FilterPerson\n        newSearch={newSearch}\n        handleSearchChange={handleSearchChange}\n      />\n      <h2>add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        newSearch={newSearch}\n        deletePerson={deletePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}